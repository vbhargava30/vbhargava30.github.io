<html>
<script src='https://d3js.org/d3.v5.min.js'></script>
<style> circle {fill: lightblue; stroke: black;} </style>
<body onload='init()'>
<svg width=300 height=300>
</svg>
<script>
async function init() {

  d3.csv("data.csv").then(function(data) {
    var parseDate = d3.timeFormat("%Y-%m-%d");
    data.forEach(function(d) {
      d.year = +d.year;
      d.averagespeed = +d.averagespeed;
      d.totaldistance = +d.totaldistance;
      d.numberstages = +d.numberstages;
      d.numberfinishers = +d.numberfinishers;
      d.startdate = parseDate(d.startdate);
      d.enddate = parseDate(d.enddate);
      d.startinglongitude = +d.startinglongtitude;
      d.startinglatitude = +d.startinglatitude;
      d.finishinglongitude = +d.finishinglongitude;
      d.finishinglatitude = +d.finishinglatitude;
    });
    
    console.log(data[0]);
  });  
}
  
</script>
</body>
</html>
